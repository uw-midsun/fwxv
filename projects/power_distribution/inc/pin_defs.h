#pragma once
// Aliases of pin addresses on front and rear power distribution.

// PCA9555 and I2C definitions
#define PD_I2C_PORT I2C_PORT_1
#define PD_PCA9555_I2C_ADDRESS_0 0x24
#define PD_PCA9555_I2C_ADDRESS_1 0x26
#define PD_I2C_SDA \
  { GPIO_PORT_B, 9 }
#define PD_I2C_SCL \
  { GPIO_PORT_B, 8 }
#define PCA9555_IO_INT1 \
  { GPIO_PORT_B, 14 }
#define PCA9555_IO_INT2 \
  { GPIO_PORT_B, 13 }

// Power, fan, and mux pin definitions
#define PD_5V_REG_MONITOR_PIN \
  { GPIO_PORT_B, 1 }

#define PD_MUX_OUTPUT_PIN \
  { GPIO_PORT_A, 7 }
#define PD_MUX_SEL1_PIN \
  { GPIO_PORT_A, 6 }
#define PD_MUX_SEL2_PIN \
  { GPIO_PORT_A, 5 }
#define PD_MUX_SEL3_PIN \
  { GPIO_PORT_A, 4 }
#define PD_MUX_SEL4_PIN \
  { GPIO_PORT_A, 3 }

#define PD_SMBALERT_PIN \
  { GPIO_PORT_B, 10 }
#define FRONT_PIN_FAN_POT \
  { GPIO_PORT_A, 0 }
#define REAR_PIN_ENC_VENT_THERM \
  { GPIO_PORT_A, 0 }
#define REAR_PIN_DCDC_THERM \
  { GPIO_PORT_A, 1 }
#define FRONT_OR_REAR_RECOGNITION_PIN \
  { GPIO_PORT_A, 8 }

#define SOLAR_SENSE_1_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_0 }

#define SOLAR_SENSE_2_EN \
  { PD_PCA9555_I2C_ADDRESS_1, PCA9555_PIN_IO0_1 }

#define SOLAR_SENSE_1_2_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_2 }

#define PEDAL_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_3 }

#define STEERING_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_4 }

#define PEDAL_STEERING_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_5 }

#define LEFT_TURN_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_6 }

#define RIGHT_TURN_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_7 }

#define LEFT_RIGHT_TURN_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_0 }

#define DRL_LIGHT_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_1 }

#define BRAKE_LIGHT_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_2 }

#define DRL_BRAKE_LIGHT_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_3 }

#define CENTER_CONSOLE_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_4 }

#define BMS_DCDC_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_5 }

#define CENTER_CONSOLE_BMS_DCDC_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_6 }

#define MCI_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_0 }

#define BPS_LIGHT_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_1 }

#define MCI_BPS_LIGHT_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_2 }

#define SPARE_12V_1_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_3 }

#define SPARE_12V_2_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_4 }

#define SPARE_12V_1_2_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_5 }

#define BMS_AUX_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_6 }

#define DRIVER_FAN_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO0_7 }

#define BMS_AUX_DRIVER_FAN_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_0 }

#define REAR_CAM_LCD_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_1 }

#define SPARE_5V_DCDC_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_2 }

#define REAR_CAM_LCD_SPARE_5V_DCDC_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_3 }

#define TELEMETRY_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_4 }

#define SPARE_5V_AUX_EN \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_5 }

#define TELEMETRY_SPARE_5V_AUX_DSEL \
  { PD_PCA9555_I2C_ADDRESS_0, PCA9555_PIN_IO1_6 }

// Select Pins

// Current Sense MUX
#define NUM_MUX_SEL_PINS 4
#define NUM_MUX_INPUTS (1 << NUM_MUX_SEL_PINS)  // 2^4 = 16

#define MUX_SEL_CENTRE_CONSOLE_REAR_DISPLAY 0
#define MUX_SEL_MAIN_PI_DRIVER_DISPLAY 1
#define MUX_SEL_5V_SPARES 2
#define MUX_SEL_MCI 3
#define MUX_SEL_LEFT_RIGHT_DISPLAY_STROBE_LIGHTS 4
#define MUX_SEL_SPEAKER_SOLAR 5
#define MUX_SEL_PEDAL_STEERING 6
#define MUX_SEL_SPARE_2_3 7
#define MUX_SEL_DAYTIME_RUNNING_LIGHTS_BRAKE_LIGHTS 8
#define MUX_SEL_FRONT_REAR_LEFT_RIGHT_TURN_LIGHT 9
#define MUX_SEL_SPARE_1 11
#define MUX_SEL_LEFT_RIGHT_REAR_CAMERA 12
#define MUX_SEL_INFOTAINMENT_DISPLAY_BMS 13  // aka main display
#define MUX_SEL_FAN_1_2 14
#define MUX_SEL_UV_VBAT 15

// Fault pin addresses
// GPIO
#define AUX_FAULT_GPIO_1 \
  { .port = GPIO_PORT_B, .pin = 3 }
#define AUX_FAULT_GPIO_2 \
  { .port = GPIO_PORT_B, .pin = 4 }
#define DCDC_FAULT_GPIO_1 \
  { .port = GPIO_PORT_A, .pin = 15 }
#define DCDC_FAULT_GPIO_2 \
  { .port = GPIO_PORT_B, .pin = 5 }
#define DCDC_FAULT_GPIO_3 \
  { .port = GPIO_PORT_A, .pin = 6 }
